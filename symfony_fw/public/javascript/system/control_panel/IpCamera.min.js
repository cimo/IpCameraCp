var ipCamera=new ipCamera;function ipCamera(){var e=this,t=!1,i=-1;function a(e,n){ajax.reply(e,n),!1===$.isEmptyObject(e.response)&&void 0!==e.response.render&&(t=!0,$("#cp_ipCamera_select_result").html(e.response.render),utility.wordTag("#ipCamera_userId","#form_ipCamera_userId"),materialDesign.refresh(),$("#form_cp_ipCamera_profile").on("submit","",function(n){n.preventDefault(),ajax.send(!0,$(this).prop("action"),$(this).prop("method"),$(this).serialize(),"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",null,function(e){ajax.reply(e,"#"+n.currentTarget.id),void 0!==e.response.messages.success&&($("#cp_ipCamera_select_result").html(""),$("#cp_ipCamera_select_result_desktop .refresh").click())},null,null)}),$("#cp_ipCamera_delete").on("click","",function(){o(null)}))}function o(e){popupEasy.create(window.text.index_5,window.textIpCamera.label_1,function(){ajax.send(!0,window.url.cpIpCameraDelete,"post",{event:"delete",id:e,token:window.session.token},"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",null,function(t){ajax.reply(t,""),void 0!==t.response.messages.success&&($.each($("#cp_ipCamera_select_result_desktop").find("table .id_column"),function(e,n){t.response.values.id===$.trim($(n).text())&&$(n).parents("tr").remove()}),$("#form_ipCamera_select_id").find("option[value='"+t.response.values.id+"']").remove(),$("#cp_ipCamera_select_result").html(""),$("#cp_ipCamera_select_result_desktop").find(".refresh").click())},null,null)})}e.init=function(){var n,t;(n=new TableAndPagination).init(),n.setButtonsStatus("show"),n.create(window.url.cpIpCameraSelect,"#cp_ipCamera_select_result_desktop",!0),n.search(),n.pagination(),n.sort(),$(document).on("click","#cp_ipCamera_select_result_desktop .refresh",function(){ajax.send(!0,window.url.cpIpCameraSelect,"post",{event:"refresh",token:window.session.token},"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",null,function(e){ajax.reply(e,""),n.populate(e)},null,null)}),$(document).on("click","#cp_ipCamera_select_result_desktop .delete_all",function(){popupEasy.create(window.text.index_5,window.textIpCamera.label_2,function(){ajax.send(!0,window.url.cpIpCameraDelete,"post",{event:"deleteAll",token:window.session.token},"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",null,function(e){ajax.reply(e,""),$.each($("#cp_ipCamera_select_result_desktop").find("table .id_column"),function(e,n){$(n).parents("tr").remove()}),$("#cp_ipCamera_select_result").html("")},null,null)})}),$(document).on("click","#cp_ipCamera_select_result_desktop .cp_ipCamera_delete",function(){var e=$.trim($(this).parents("tr").find(".id_column").text());o(e)}),$(document).on("click","#cp_ipCamera_select_button_desktop",function(n){var e=$.trim($(this).parent().find(".checkbox_column input:checked").parents("tr").find(".id_column").text());ajax.send(!0,window.url.cpIpCameraProfile,"post",{event:"result",id:e,token:window.session.token},"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",function(){$("#cp_ipCamera_select_result").html("")},function(e){a(e,"#"+n.currentTarget.id)},null,null)}),$(document).on("click",".checkbox_column input[type='checkbox']",function(){$("#cp_ipCamera_select_result").html("")}),$(document).on("submit","#form_cp_ipCamera_select_mobile",function(n){n.preventDefault(),ajax.send(!0,$(this).prop("action"),$(this).prop("method"),utility.serializeJson($(this)),"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",function(){$("#cp_ipCamera_select_result").html("")},function(e){a(e,"#"+n.currentTarget.id)},null,null)}),$(document).on("change","#form_ipCamera_select_id",function(){$("#cp_ipCamera_select_result").html("")}),utility.wordTag("#ipCamera_userId","#form_ipCamera_userId"),$("#form_cp_ipCamera_create").on("submit","",function(n){n.preventDefault(),ajax.send(!0,$(this).prop("action"),$(this).prop("method"),$(this).serialize(),"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",null,function(e){ajax.reply(e,"#"+n.currentTarget.id)},null,null)}),(t=new TableAndPagination).init(),t.setButtonsStatus("show"),t.create(window.url.cpIpCameraFile,"#cp_ipCamera_file_result",!0),t.search(),t.pagination(),t.sort(),$(document).on("click","#cp_ipCamera_file_result .refresh",function(){ajax.send(!0,window.url.cpIpCameraFile,"post",{event:"refresh",token:window.session.token},"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",null,function(e){ajax.reply(e,""),t.populate(e)},null,null)}),$(document).on("click","#cp_ipCamera_file_result .delete_all",function(){popupEasy.create(window.text.index_5,window.textIpCamera.label_4,function(){ajax.send(!0,window.url.cpIpCameraFileDelete,"post",{event:"deleteAll",token:window.session.token},"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",null,function(e){ajax.reply(e,""),$.each($("#cp_ipCamera_file_result").find("table .id_column"),function(e,n){$(n).parents("tr").remove()})},null,null)})}),$(document).on("click","#cp_ipCamera_file_result .cp_ipCamera_file_download",function(){var n=$.trim($(this).parents("tr").find(".deviceName_column").text()),t=$.trim($(this).parents("tr").find(".name_column span p").text());$(document).ready(function(){var e='<form id="cp_ipCamera_file_download" action="'+window.url.cpIpCameraFileDownload+'" method="post">\n                    <input type="hidden" name="deviceName" value="'+n+'">\n                    <input type="hidden" name="name" value="'+t+'">\n                    <input type="hidden" name="token" value="'+window.session.token+'">\n                </form>';$(e).appendTo("body").submit(),$("#cp_ipCamera_file_download").remove()})}),$(document).on("click","#cp_ipCamera_file_result .cp_ipCamera_file_delete",function(){var e=$.trim($(this).parents("tr").find(".id_column").text()),n=$.trim($(this).parents("tr").find(".deviceName_column").text()),t=$.trim($(this).parents("tr").find(".name_column span").text());popupEasy.create(window.text.index_5,window.textIpCamera.label_3,function(){ajax.send(!0,window.url.cpIpCameraFileDelete,"post",{event:"delete",id:e,deviceName:n,name:t,token:window.session.token},"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",null,function(t){ajax.reply(t,""),void 0!==t.response.messages.success&&($.each($("#cp_ipCamera_file_result").find("table .id_column"),function(e,n){t.response.values.id===$.trim($(n).text())&&$(n).parents("tr").remove()}),$("#cp_ipCamera_file_result").find(".refresh").click())},null,null)})})},e.changeView=function(){if("mobile"===utility.checkWidthType()){if(!0===t&&(i=$("#cp_ipCamera_select_mobile").find("select option:selected").val(),t=!1),0<=i){$("#cp_ipCamera_select_result_desktop").find(".checkbox_column input[type='checkbox']").prop("checked",!1);var e=$("#cp_ipCamera_select_result_desktop").find(".checkbox_column input[type='checkbox']").parents("tr").find(".id_column");$.each(e,function(e,n){$.trim($(n).text())===String(i)&&$(n).parents("tr").find(".checkbox_column input").prop("checked",!0)})}}else!0===t&&(i=$.trim($("#cp_ipCamera_select_result_desktop").find(".checkbox_column input[type='checkbox']:checked").parents("tr").find(".id_column").text()),t=!1),0<i&&$("#cp_ipCamera_select_mobile").find("select option[value='"+i+"']").prop("selected",!0)},e.videoContainer=function(){$(".video_container").find(".video").on("load","",function(){console.log("cimo")})},e.commandContainer=function(){}}